{
  "version": 3,
  "sources": ["../../@mui/base/useButton/useButton.js"],
  "sourcesContent": ["'use client';\r\n\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport * as React from 'react';\r\nimport { unstable_useForkRef as useForkRef, unstable_useIsFocusVisible as useIsFocusVisible } from '@mui/utils';\r\nimport { extractEventHandlers } from '../utils/extractEventHandlers';\r\nimport { useRootElementName } from '../utils/useRootElementName';\r\n/**\r\n *\r\n * Demos:\r\n *\r\n * - [Button](https://mui.com/base-ui/react-button/#hook)\r\n *\r\n * API:\r\n *\r\n * - [useButton API](https://mui.com/base-ui/react-button/hooks-api/#use-button)\r\n */\r\nexport function useButton(parameters = {}) {\r\n  const {\r\n    disabled = false,\r\n    focusableWhenDisabled,\r\n    href,\r\n    rootRef: externalRef,\r\n    tabIndex,\r\n    to,\r\n    type,\r\n    rootElementName: rootElementNameProp\r\n  } = parameters;\r\n  const buttonRef = React.useRef();\r\n  const [active, setActive] = React.useState(false);\r\n  const {\r\n    isFocusVisibleRef,\r\n    onFocus: handleFocusVisible,\r\n    onBlur: handleBlurVisible,\r\n    ref: focusVisibleRef\r\n  } = useIsFocusVisible();\r\n  const [focusVisible, setFocusVisible] = React.useState(false);\r\n  if (disabled && !focusableWhenDisabled && focusVisible) {\r\n    setFocusVisible(false);\r\n  }\r\n  React.useEffect(() => {\r\n    isFocusVisibleRef.current = focusVisible;\r\n  }, [focusVisible, isFocusVisibleRef]);\r\n  const [rootElementName, updateRootElementName] = useRootElementName({\r\n    rootElementName: rootElementNameProp != null ? rootElementNameProp : href || to ? 'a' : undefined,\r\n    componentName: 'Button'\r\n  });\r\n  const createHandleMouseLeave = otherHandlers => event => {\r\n    var _otherHandlers$onMous;\r\n    if (focusVisible) {\r\n      event.preventDefault();\r\n    }\r\n    (_otherHandlers$onMous = otherHandlers.onMouseLeave) == null || _otherHandlers$onMous.call(otherHandlers, event);\r\n  };\r\n  const createHandleBlur = otherHandlers => event => {\r\n    var _otherHandlers$onBlur;\r\n    handleBlurVisible(event);\r\n    if (isFocusVisibleRef.current === false) {\r\n      setFocusVisible(false);\r\n    }\r\n    (_otherHandlers$onBlur = otherHandlers.onBlur) == null || _otherHandlers$onBlur.call(otherHandlers, event);\r\n  };\r\n  const createHandleFocus = otherHandlers => event => {\r\n    var _otherHandlers$onFocu2;\r\n    // Fix for https://github.com/facebook/react/issues/7769\r\n    if (!buttonRef.current) {\r\n      buttonRef.current = event.currentTarget;\r\n    }\r\n    handleFocusVisible(event);\r\n    if (isFocusVisibleRef.current === true) {\r\n      var _otherHandlers$onFocu;\r\n      setFocusVisible(true);\r\n      (_otherHandlers$onFocu = otherHandlers.onFocusVisible) == null || _otherHandlers$onFocu.call(otherHandlers, event);\r\n    }\r\n    (_otherHandlers$onFocu2 = otherHandlers.onFocus) == null || _otherHandlers$onFocu2.call(otherHandlers, event);\r\n  };\r\n  const isNativeButton = () => {\r\n    const button = buttonRef.current;\r\n    return rootElementName === 'BUTTON' || rootElementName === 'INPUT' && ['button', 'submit', 'reset'].includes(button == null ? void 0 : button.type) || rootElementName === 'A' && (button == null ? void 0 : button.href);\r\n  };\r\n  const createHandleClick = otherHandlers => event => {\r\n    if (!disabled) {\r\n      var _otherHandlers$onClic;\r\n      (_otherHandlers$onClic = otherHandlers.onClick) == null || _otherHandlers$onClic.call(otherHandlers, event);\r\n    }\r\n  };\r\n  const createHandleMouseDown = otherHandlers => event => {\r\n    var _otherHandlers$onMous2;\r\n    if (!disabled) {\r\n      setActive(true);\r\n      document.addEventListener('mouseup', () => {\r\n        setActive(false);\r\n      }, {\r\n        once: true\r\n      });\r\n    }\r\n    (_otherHandlers$onMous2 = otherHandlers.onMouseDown) == null || _otherHandlers$onMous2.call(otherHandlers, event);\r\n  };\r\n  const createHandleKeyDown = otherHandlers => event => {\r\n    var _otherHandlers$onKeyD;\r\n    (_otherHandlers$onKeyD = otherHandlers.onKeyDown) == null || _otherHandlers$onKeyD.call(otherHandlers, event);\r\n    if (event.defaultMuiPrevented) {\r\n      return;\r\n    }\r\n    if (event.target === event.currentTarget && !isNativeButton() && event.key === ' ') {\r\n      event.preventDefault();\r\n    }\r\n    if (event.target === event.currentTarget && event.key === ' ' && !disabled) {\r\n      setActive(true);\r\n    }\r\n\r\n    // Keyboard accessibility for non interactive elements\r\n    if (event.target === event.currentTarget && !isNativeButton() && event.key === 'Enter' && !disabled) {\r\n      var _otherHandlers$onClic2;\r\n      (_otherHandlers$onClic2 = otherHandlers.onClick) == null || _otherHandlers$onClic2.call(otherHandlers, event);\r\n      event.preventDefault();\r\n    }\r\n  };\r\n  const createHandleKeyUp = otherHandlers => event => {\r\n    var _otherHandlers$onKeyU;\r\n    // calling preventDefault in keyUp on a <button> will not dispatch a click event if Space is pressed\r\n    // https://codesandbox.io/p/sandbox/button-keyup-preventdefault-dn7f0\r\n\r\n    if (event.target === event.currentTarget) {\r\n      setActive(false);\r\n    }\r\n    (_otherHandlers$onKeyU = otherHandlers.onKeyUp) == null || _otherHandlers$onKeyU.call(otherHandlers, event);\r\n\r\n    // Keyboard accessibility for non interactive elements\r\n    if (event.target === event.currentTarget && !isNativeButton() && !disabled && event.key === ' ' && !event.defaultMuiPrevented) {\r\n      var _otherHandlers$onClic3;\r\n      (_otherHandlers$onClic3 = otherHandlers.onClick) == null || _otherHandlers$onClic3.call(otherHandlers, event);\r\n    }\r\n  };\r\n  const handleRef = useForkRef(updateRootElementName, externalRef, focusVisibleRef, buttonRef);\r\n  const buttonProps = {};\r\n  if (tabIndex !== undefined) {\r\n    buttonProps.tabIndex = tabIndex;\r\n  }\r\n  if (rootElementName === 'BUTTON') {\r\n    buttonProps.type = type != null ? type : 'button';\r\n    if (focusableWhenDisabled) {\r\n      buttonProps['aria-disabled'] = disabled;\r\n    } else {\r\n      buttonProps.disabled = disabled;\r\n    }\r\n  } else if (rootElementName === 'INPUT') {\r\n    if (type && ['button', 'submit', 'reset'].includes(type)) {\r\n      if (focusableWhenDisabled) {\r\n        buttonProps['aria-disabled'] = disabled;\r\n      } else {\r\n        buttonProps.disabled = disabled;\r\n      }\r\n    }\r\n  } else if (rootElementName !== '') {\r\n    if (!href && !to) {\r\n      buttonProps.role = 'button';\r\n      buttonProps.tabIndex = tabIndex != null ? tabIndex : 0;\r\n    }\r\n    if (disabled) {\r\n      buttonProps['aria-disabled'] = disabled;\r\n      buttonProps.tabIndex = focusableWhenDisabled ? tabIndex != null ? tabIndex : 0 : -1;\r\n    }\r\n  }\r\n  const getRootProps = (externalProps = {}) => {\r\n    const externalEventHandlers = _extends({}, extractEventHandlers(parameters), extractEventHandlers(externalProps));\r\n    const props = _extends({\r\n      type\r\n    }, externalEventHandlers, buttonProps, externalProps, {\r\n      onBlur: createHandleBlur(externalEventHandlers),\r\n      onClick: createHandleClick(externalEventHandlers),\r\n      onFocus: createHandleFocus(externalEventHandlers),\r\n      onKeyDown: createHandleKeyDown(externalEventHandlers),\r\n      onKeyUp: createHandleKeyUp(externalEventHandlers),\r\n      onMouseDown: createHandleMouseDown(externalEventHandlers),\r\n      onMouseLeave: createHandleMouseLeave(externalEventHandlers),\r\n      ref: handleRef\r\n    });\r\n\r\n    // onFocusVisible can be present on the props or parameters,\r\n    // but it's not a valid React event handler so it must not be forwarded to the inner component.\r\n    // If present, it will be handled by the focus handler.\r\n    delete props.onFocusVisible;\r\n    return props;\r\n  };\r\n  return {\r\n    getRootProps,\r\n    focusVisible,\r\n    setFocusVisible,\r\n    active,\r\n    rootRef: handleRef\r\n  };\r\n}"],
  "mappings": "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",
  "names": []
}
